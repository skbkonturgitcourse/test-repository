// v 3.1.3 | 152552442 | fp url

(()=>{"use strict";function t(t,n){var r=Math.pow(10,n);return Math.round(t*r)/r}var n="https://privacy-cs.mail.ru/fp/",r="https://privacy-ad.mail.ru/trust-token";function e(t){return Object.values(t)}function o(t){return Object.entries(t)}function i(t){return Object.fromEntries(t)}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function a(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var e,o,i,u,a=[],f=!0,c=!1;try{if(i=(r=r.call(t)).next,0===n){if(Object(r)!==r)return;f=!1}else for(;!(f=(e=i.call(r)).done)&&(a.push(e.value),a.length!==n);f=!0);}catch(t){c=!0,o=t}finally{try{if(!f&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(t,n)||f(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,n){if(t){if("string"==typeof t)return c(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,n):void 0}}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}function l(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(n>=100)return t;var r,e={},i=function(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=f(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var e=0,o=function(){};return{s:o,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}(o(t));try{for(i.s();!(r=i.n()).done;){var c=a(r.value,2),s=c[0],v=c[1];if(Array.isArray(v))e[s]=v;else if("object"!==u(v)||null===v)null!=v&&(e[s]=v);else{var y=l(v,n+1);Object.keys(y).length>0&&(e[s]=y)}}}catch(t){i.e(t)}finally{i.f()}return e}var s=function(t,r){var e=new URL(n);return e.searchParams.append("id",t),fetch(e,{credentials:"include",method:"POST",body:JSON.stringify(l(r)),headers:{"Content-Type":"application/json"}}).catch((function(t){return null}))};var v={o:"userId",i:"history-seq"},y={u:"v3.1.3",l:"rb_sync",m:"id",S:{_:{p:"fpid"}.p,A:{_:"rb_sync_id"},O:{_:"domain_sid"},T:{I:"fpid",u:"0.1",R:{I:"fpid"}}},N:{j:{M:{_:"pixels",C:72e5},L:"periodic",P:"delayed",F:15e3}}};function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function m(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,e)}return r}function S(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?m(Object(r),!0).forEach((function(n){d(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}function E(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,_(e.key),e)}}function d(t,n,r){return(n=_(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function _(t){var n=function(t,n){if("object"!=b(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,n||"default");if("object"!=b(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==b(n)?n:String(n)}var p=d({version:y.u,asyncFid:Promise.resolve(void 0)},y.m,void 0),h=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,r,e;return n=t,e=[{key:"init",value:function(){window[y.l]=p}},{key:"setSyncFid",value:function(n){var r=window[y.l];if(!r)return t.init(),void t.setSyncFid(n);window[y.l]=S(S({},r),{},d({},y.m,n))}},{key:"setAsyncFid",value:function(n){var r=window[y.l];if(!r)return t.init(),void t.setAsyncFid(n);window[y.l]=S(S({},r),{},{asyncFid:n})}},{key:"get",value:function(){return window[y.l]||p}}],(r=null)&&E(n.prototype,r),e&&E(n,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function O(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,T(e.key),e)}}function T(t){var n=function(t,n){if("object"!=A(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,n||"default");if("object"!=A(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==A(n)?n:String(n)}var w=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.isAvailable=this._isLocalStorageAvailable()}var n,r,e;return n=t,(r=[{key:"_isLocalStorageAvailable",value:function(){var t="test";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(t){return!1}}},{key:"setItem",value:function(t,n){return this.isAvailable?("object"===A(n)&&(n=JSON.stringify(n)),localStorage.setItem(t,n)):null}},{key:"getItem",value:function(t){if(this.isAvailable){var n=localStorage.getItem(t);try{return null===n?null:JSON.parse(n)}catch(t){}return n}return null}},{key:"removeItem",value:function(t){return this.isAvailable?localStorage.removeItem(t):null}}])&&O(n.prototype,r),e&&O(n,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function g(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,e)}return r}function I(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?g(Object(r),!0).forEach((function(n){j(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function N(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,M(e.key),e)}}function j(t,n,r){return(n=M(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function M(t){var n=function(t,n){if("object"!=R(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,n||"default");if("object"!=R(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==R(n)?n:String(n)}var C=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),j(this,"_safeLocalStorage",new w),j(this,"isAvailable",this._safeLocalStorage.isAvailable),this._key=n;var r=this.get();("object"!==R(r)||Array.isArray(r))&&this._safeLocalStorage.setItem(this._key,{})}var n,r,e;return n=t,(r=[{key:"setItem",value:function(t,n){if("object"!==R(t))this.setItem(j({},t,n));else{var r=this.get();this._safeLocalStorage.setItem(this._key,I(I({},r),t))}}},{key:"get",value:function(){return this._safeLocalStorage.getItem(this._key)}},{key:"getItem",value:function(t){var n=this.get();return null===n?null:n[t]||null}},{key:"removeItem",value:function(t){var n=this.get();null!==n&&(delete n[t],this._safeLocalStorage.setItem(this._key,n))}}])&&N(n.prototype,r),e&&N(n,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function L(t,n,r){return(n=X(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function P(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var e,o,i,u,a=[],f=!0,c=!1;try{if(i=(r=r.call(t)).next,0===n){if(Object(r)!==r)return;f=!1}else for(;!(f=(e=i.call(r)).done)&&(a.push(e.value),a.length!==n);f=!0);}catch(t){c=!0,o=t}finally{try{if(!f&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return F(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function D(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function B(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,X(e.key),e)}}function k(t,n,r){return n&&B(t.prototype,n),r&&B(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function X(t){var n=function(t,n){if("object"!=U(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,n||"default");if("object"!=U(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==U(n)?n:String(n)}var G=function(){function t(){D(this,t)}return k(t,null,[{key:"set",value:function(t,n){document.cookie=`${t}=${encodeURIComponent(n)}; path=/; max-age=604800`}},{key:"get",value:function(t){var n=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return n?decodeURIComponent(n[1]):void 0}}]),t}(),K=function(){function t(){D(this,t)}return k(t,null,[{key:"encode",value:function(t,n){return`${t}:${n}`}},{key:"decode",value:function(t){var n,r=P(t.split(":"),2),e=r[0],o=r[1],i=Number(o);if(e&&!isNaN(i))return L(n={},y.S._,e),L(n,"time",i),n}}]),t}(),x=k((function t(){D(this,t),L(this,"isAvailable",!0),L(this,"set",(function(t,n){G.set(y.S.O._,K.encode(t,n))})),L(this,"get",(function(){var t=G.get(y.S.O._);if(t)return K.decode(t)}))}));function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function W(t){return!(!t||"object"!==V(t))&&(Number.isFinite(t.time)&&t[y.S._])}function H(t){return H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(t)}function $(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,J(e.key),e)}}function Y(t,n,r){return n&&$(t.prototype,n),r&&$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z(t,n,r){return(n=J(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function J(t){var n=function(t,n){if("object"!=H(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,n||"default");if("object"!=H(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==H(n)?n:String(n)}var Q=Y((function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),Z(this,"isAvailable",!0),Z(this,"set",(function(t,n){var r;window.name=function(t,n,r){if(t.indexOf("&"+n+"=")>-1||0===t.indexOf(n+"=")){var e=t.indexOf("&"+n+"=");-1===e&&(e=t.indexOf(n+"="));var o=t.indexOf("&",e+1);return-1!==o?`${t.substr(0,e)}${t.substr(o+(e?0:1))}&${n}=${r}`:`${t.substr(0,e)}&${n}=${r}`}return`${t}&${n}=${r}`}(null===(r=window)||void 0===r?void 0:r.name,y.m,n+t)})),Z(this,"get",(function(){var t,n,r=function(t,n){if("string"==typeof n)for(var r,e=t+"=",o=n.split(/[;&]/),i=0;i<o.length;i++){for(r=o[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(e))return r.substring(e.length,r.length)}}(y.m,null===(t=window)||void 0===t?void 0:t.name);if(r){var e=Number(r.substring(0,13)),o=r.substring(13);return Z(n={},y.S._,o),Z(n,"time",e),n}}))}));function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function z(t){return"string"==typeof t}function tt(t){return"object"===q(t)&&null!==t}function nt(t){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(t)}function rt(t,n,r){return(n=ot(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function et(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,ot(e.key),e)}}function ot(t){var n=function(t,n){if("object"!=nt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,n||"default");if("object"!=nt(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==nt(n)?n:String(n)}var it=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.db=window.openDatabase?window.openDatabase(y.S.T.I,y.S.T.u,y.S.T.I,1024):null;var n,r=null!=this.db;r&&(null===(n=this.db)||void 0===n||n.transaction((function(t){t.executeSql(`CREATE TABLE IF NOT EXISTS ${y.S.T.R.I} (id TEXT UNIQUE, value TEXT, time REAL)`,[],void 0,(function(t,n){return r=!1,!1}))})));this.isAvailable=r}var n,r,e;return n=t,(r=[{key:"set",value:function(t,n){var r;this.isAvailable&&(null===(r=this.db)||void 0===r||r.transaction((function(r){r.executeSql(`INSERT INTO ${y.S.T.R.I} (id, value, time) VALUES (?, ?, ?)`,[y.m,t,n],void 0,(function(r,e){return 6===e.code&&(r.executeSql(`UPDATE ${y.S.T.R.I} SET (value = ?, time = ?) WHERE id = ?`,[t,n,y.m],void 0,(function(t,n){return!1})),!0)}))}),(function(t){return!1}),(function(){})))}},{key:"get",value:function(){var t=this;if(this.isAvailable)return new Promise((function(n,r){var e;null===(e=t.db)||void 0===e||e.transaction((function(t){return t.executeSql(`SELECT value, time FROM ${y.S.T.R.I} WHERE id = ?`,[y.m],(function(t,r){for(var e=0;e<r.rows.length;e++){var o;n((rt(o={},y.S._,r.rows[0].value),rt(o,"time",r.rows[0].time),o))}return n(void 0)}),(function(t,n){return!1}))}),(function(t){return n(void 0),!1}),(function(){}))}))}}])&&et(n.prototype,r),e&&et(n,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function ut(t,n,r){return(n=st(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function at(t){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},at(t)}function ft(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function ct(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,st(e.key),e)}}function lt(t,n,r){return n&&ct(t.prototype,n),r&&ct(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function st(t){var n=function(t,n){if("object"!=at(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,n||"default");if("object"!=at(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==at(n)?n:String(n)}var vt=function(){function t(){ft(this,t),this.isAvailable=this._isAvailable()}return lt(t,[{key:"_isAvailable",value:function(){var t="test";try{return sessionStorage.setItem(t,t),sessionStorage.removeItem(t),!0}catch(t){return!1}}},{key:"setItem",value:function(t,n){return this.isAvailable?("object"===at(n)&&(n=JSON.stringify(n)),sessionStorage.setItem(t,n)):null}},{key:"getItem",value:function(t){if(this.isAvailable){var n=sessionStorage.getItem(t);try{return null===n?null:JSON.parse(n)}catch(t){}return n}return null}},{key:"removeItem",value:function(t){return this.isAvailable?sessionStorage.removeItem(t):null}}]),t}(),yt=lt((function t(){var n=this;ft(this,t),ut(this,"_safeSessionStorage",new vt),ut(this,"isAvailable",this._safeSessionStorage.isAvailable),ut(this,"set",(function(t,r){n._safeSessionStorage.setItem(y.S.A._,ut({time:r},y.S._,t))})),ut(this,"get",(function(){var t=n._safeSessionStorage.getItem(y.S.A._);return W(t)?t:void 0}))}));function bt(t){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(t)}function mt(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,dt(e.key),e)}}function St(t,n,r){return n&&mt(t.prototype,n),r&&mt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Et(t,n,r){return(n=dt(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function dt(t){var n=function(t,n){if("object"!=bt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,n||"default");if("object"!=bt(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==bt(n)?n:String(n)}var _t=St((function t(n){var r=this;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),Et(this,"set",(function(t,n){r._appLocalStorage.setItem(Et({time:n},y.S._,t))})),Et(this,"get",(function(){var t=r._appLocalStorage.get();if(null!==t){var n=t.time,e=t[y.S._];if(e&&n)return Et({time:n},y.S._,e)}})),this._appLocalStorage=n,this.isAvailable=n.isAvailable}));function pt(t){return pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pt(t)}function ht(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var e,o,i,u,a=[],f=!0,c=!1;try{if(i=(r=r.call(t)).next,0===n){if(Object(r)!==r)return;f=!1}else for(;!(f=(e=i.call(r)).done)&&(a.push(e.value),a.length!==n);f=!0);}catch(t){c=!0,o=t}finally{try{if(!f&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(t,n)||Ot(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(t){return function(t){if(Array.isArray(t))return Tt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ot(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(t,n){if(t){if("string"==typeof t)return Tt(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tt(t,n):void 0}}function Tt(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}function wt(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,gt(e.key),e)}}function gt(t){var n=function(t,n){if("object"!=pt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,n||"default");if("object"!=pt(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==pt(n)?n:String(n)}var It=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this._appLocalStorage=n,this._subStorages={sync:{cookieStorage:new x,localStorage:new _t(this._appLocalStorage),sessionStorage:new yt,windowNameStorage:new Q},async:{openDatabaseStorage:new it}}}var n,r,u;return n=t,(r=[{key:"get",value:function(t){var n=this,r=e(this._subStorages.sync).flatMap((function(t){var n=t.get();return W(n)?n:[]})),o=this.findOldestRecord(r);return t(null==o?void 0:o[y.S._]),Promise.all(e(this._subStorages.async).map((function(t){return t.get()}))).then((function(r){var e=r.flatMap((function(t){return W(t)?t:[]}));o&&e.push(o);var i=n.findOldestRecord(e);return t(null==i?void 0:i[y.S._]),null==i?void 0:i[y.S._]}))}},{key:"set",value:function(t){var n=Date.now();e(this._subStorages).flatMap((function(t){return e(t)})).forEach((function(r){return r.set(t,n)}))}},{key:"getStorageApisAvailability",value:function(){var t=i([].concat(At(o(this._subStorages.sync)),At(o(this._subStorages.async))).map((function(t){var n=ht(t,2);return[n[0],n[1].isAvailable]})));return{hasLocalStorage:t.localStorage,hasSessionStorage:t.sessionStorage,hasOpenDB:t.openDatabaseStorage,hasIndexedDb:"indexedDB"in window}}},{key:"findOldestRecord",value:function(t){var n,r,e,o=void 0,i=9999999999999;return t.forEach((function(t){var n=t.time,r=t[y.S._];n<i&&(i=n,o=r)})),o?(n={time:i},r=y.S._,e=o,(r=gt(r))in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n):void 0}}])&&wt(n.prototype,r),u&&wt(n,u),Object.defineProperty(n,"prototype",{writable:!1}),t}();function Rt(t){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rt(t)}function Nt(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,jt(e.key),e)}}function jt(t){var n=function(t,n){if("object"!=Rt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,n||"default");if("object"!=Rt(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==Rt(n)?n:String(n)}var Mt={Error:!0,EvalError:!0,InternalError:!0,RangeError:!0,ReferenceError:!0,SyntaxError:!0,TypeError:!0,URIError:!0,InvalidStateError:!0,SecurityError:!0},Ct=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this._asyncBuffer=n}var n,r,e;return n=t,(r=[{key:"captureError",value:function(t,n,r){var e=(null==r?void 0:r.message)||"";if("string"==typeof n&&(n=new Error(n)),n instanceof Error){var o=n,i=o.name,u=o.message,a=`[${t}] `+(e?`${u} - ${e}`:u),f=Mt[i]?i:void 0;this._asyncBuffer.push("error",{trustedName:f,trustedMessage:a})}else this._asyncBuffer.push("unknownError",n)}},{key:"attempt",value:function(t,n,r){try{return n()}catch(n){var e;return this.captureError(t,n,r),null!==(e=null==r?void 0:r.fallback)&&void 0!==e?e:null}}},{key:"createModuleErrorLogger",value:function(t){var n=this;return{captureError:function(r,e){return n.captureError(t,r,e)},attempt:function(r,e){return n.attempt(t,r,e)}}}}])&&Nt(n.prototype,r),e&&Nt(n,e),Object.defineProperty(n,"prototype",{writable:!1}),t}();function Lt(t){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lt(t)}function Pt(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,Ut(e.key),e)}}function Ft(t,n,r){return(n=Ut(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function Ut(t){var n=function(t,n){if("object"!=Lt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,n||"default");if("object"!=Lt(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==Lt(n)?n:String(n)}var Dt=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),Ft(this,"_timer",null),Ft(this,"_queue",{}),Ft(this,"hasChanges",!1)}var n,r,e;return n=t,(r=[{key:"registerSendCallback",value:function(t){this._startTimer(t)}},{key:"push",value:function(t,n){this.hasChanges=!0;var r=this._queue[t];Array.isArray(r)?this._queue[t]=r.concat(n):this._queue[t]=n}},{key:"stop",value:function(){this._timer&&clearInterval(this._timer)}},{key:"_startTimer",value:function(t){var n=this;this._timer=setInterval((function(){n.hasChanges&&(n.hasChanges=!1,t(n._queue))}),y.N.j.F)}}])&&Pt(n.prototype,r),e&&Pt(n,e),Object.defineProperty(n,"prototype",{writable:!1}),t}(),Bt=new C(y.S.A._),kt=new It(Bt),Xt=new Dt,Gt=new Ct(Xt),Kt=Gt.createModuleErrorLogger("Root");function xt(t){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(t)}function Vt(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Wt(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,Yt(e.key),e)}}function Ht(t,n,r){return n&&Wt(t.prototype,n),r&&Wt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $t(t,n,r){return(n=Yt(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function Yt(t){var n=function(t,n){if("object"!=xt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,n||"default");if("object"!=xt(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==xt(n)?n:String(n)}var Zt=function(){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Vt(this,t),$t(this,"last",0),$t(this,"cnt",0),this.element=n,this.start=r,this.last=0}return Ht(t,[{key:"increment",value:function(){this.last=Date.now(),this.cnt++}}]),t}(),Jt=new Zt(null,0),Qt=function(){function t(n){var r=this;Vt(this,t),$t(this,"_inputs",void 0),$t(this,"_ticker",void 0),$t(this,"_measurementSession",Jt),$t(this,"handleInput",(function(t){var n=t.target;t.target!==r._measurementSession.element&&(r.clearTicker(),r.processMeasurement(),r._measurementSession=new Zt(n,Date.now())),r._ticker||(r._ticker=setInterval(r.intervalFunc,100)),r._measurementSession.increment()})),$t(this,"intervalFunc",(function(){Date.now()-r._measurementSession.last>1600&&(r.clearTicker(),r.processMeasurement(),r._measurementSession=Jt)})),this._processMeasurement=n}return Ht(t,[{key:"init",value:function(){var t=this;"loading"==document.readyState?document.addEventListener("DOMContentLoaded",(function(){return t._init()})):this._init()}},{key:"_init",value:function(){this._inputs=document.querySelectorAll('textarea, input[type="text"]');for(var t=0;t<this._inputs.length&&t<100;t++)this._inputs[t].addEventListener("input",this.handleInput)}},{key:"processMeasurement",value:function(){this._measurementSession.cnt<2||this._processMeasurement(this._measurementSession.last-this._measurementSession.start,this._measurementSession.cnt)}},{key:"clearTicker",value:function(){clearInterval(this._ticker),this._ticker=void 0}}]),t}();var qt=window.crypto?function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(t)).reduce((function(t,n){return t+((n&=63)<36?n.toString(36):n<62?(n-26).toString(36).toUpperCase():n>62?"-":"_")}),"")}:function(){for(var t="",n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t};const zt=qt;function tn(){return String.fromCharCode(26*Math.random()+97)+zt(7)}var nn,rn,en,on,un,an=function(){var t=[].constructor;try{(-1).toFixed(-1)}catch(n){return n.message.length+(t+"").split(t.name).join("").length}}(),fn=function(t){return t[t.BLINK=80]="BLINK",t[t.GECKO=58]="GECKO",t[t.WEBKIT=77]="WEBKIT",t[t.UNKNOWN=-1]="UNKNOWN",t}({});function cn(t){return function(t){if(Array.isArray(t))return sn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ln(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ln(t,n){if(t){if("string"==typeof t)return sn(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sn(t,n):void 0}}function sn(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}rn=nn||(nn={}),un=rn.engine=(en=fn,on=an,Object.values(en).includes(on)?an:fn.UNKNOWN),rn.isSafari15AndAbove="BigInt64Array"in window&&un===fn.WEBKIT&&!/(Cr|Fx)iOS/.test(navigator.userAgent),rn.isWorkerScope=!("document"in self)&&"WorkerGlobalScope"in self,rn.likeBrave=un===fn.BLINK&&"flat"in Array.prototype&&!("ReportingObserver"in self);var vn="\n\theight: 100vh;\n\twidth: 100vw;\n\tposition: absolute;\n    top: 0;\n\tleft:-10000px;\n\tvisibility: hidden;\n",yn=Gt.createModuleErrorLogger("Ghosts");var bn,mn,Sn=function(){if(nn.isWorkerScope)return[self];var t=document.createElement("div"),n="function"==typeof t.attachShadow;try{var r,e=tn();t.setAttribute("id",e);var o=new DocumentFragment,i=null;if(n)try{i=t.attachShadow({mode:"open"})}catch(t){}var u=null!==i,a=i||t;a.innerHTML=`<div style="${vn}"><iframe></iframe></div>`,o.appendChild(t),document.body.appendChild(o);var f=function(t){try{if(nn.engine!==fn.BLINK)return t;var n=t.document.createElement("div");n.setAttribute("id",tn()),n.setAttribute("style",vn),n.innerHTML="<div><iframe></iframe></div>",t.document.body.appendChild(n);var r=cn(cn(n.childNodes)[0].childNodes)[0],e=null==r?void 0:r.contentWindow;if(!e)return null;var o=e.document.createElement("div");o.innerHTML="<div><iframe></iframe></div>",e.document.body.appendChild(o);var i=cn(cn(o.childNodes)[0].childNodes)[0];return(null==i?void 0:i.contentWindow)||null}catch(n){return yn.captureError(n,{message:"Behemoth iframe blocked"}),t}}(null===(r=a.querySelector("iframe").contentWindow)||void 0===r?void 0:r.window);return[f||self,t.shadowRoot||t,n,u]}catch(t){return yn.captureError(t,{message:"Phantom iframe blocked"}),[self,void 0,n]}}(),En=(mn=4,function(t){if(Array.isArray(t))return t}(bn=Sn)||function(t,n){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var e,o,i,u,a=[],f=!0,c=!1;try{if(i=(r=r.call(t)).next,0===n){if(Object(r)!==r)return;f=!1}else for(;!(f=(e=i.call(r)).done)&&(a.push(e.value),a.length!==n);f=!0);}catch(t){c=!0,o=t}finally{try{if(!f&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(bn,mn)||ln(bn,mn)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),dn=En[0],_n=(En[1],En[2]),pn=En[3],hn=new Set(["BLEND_EQUATION","BLEND_EQUATION_RGB","BLEND_EQUATION_ALPHA","BLEND_DST_RGB","BLEND_SRC_RGB","BLEND_DST_ALPHA","BLEND_SRC_ALPHA","BLEND_COLOR","CULL_FACE","BLEND","DITHER","STENCIL_TEST","DEPTH_TEST","SCISSOR_TEST","POLYGON_OFFSET_FILL","SAMPLE_ALPHA_TO_COVERAGE","SAMPLE_COVERAGE","LINE_WIDTH","ALIASED_POINT_SIZE_RANGE","ALIASED_LINE_WIDTH_RANGE","CULL_FACE_MODE","FRONT_FACE","DEPTH_RANGE","DEPTH_WRITEMASK","DEPTH_CLEAR_VALUE","DEPTH_FUNC","STENCIL_CLEAR_VALUE","STENCIL_FUNC","STENCIL_FAIL","STENCIL_PASS_DEPTH_FAIL","STENCIL_PASS_DEPTH_PASS","STENCIL_REF","STENCIL_VALUE_MASK","STENCIL_WRITEMASK","STENCIL_BACK_FUNC","STENCIL_BACK_FAIL","STENCIL_BACK_PASS_DEPTH_FAIL","STENCIL_BACK_PASS_DEPTH_PASS","STENCIL_BACK_REF","STENCIL_BACK_VALUE_MASK","STENCIL_BACK_WRITEMASK","VIEWPORT","SCISSOR_BOX","COLOR_CLEAR_VALUE","COLOR_WRITEMASK","UNPACK_ALIGNMENT","PACK_ALIGNMENT","MAX_TEXTURE_SIZE","MAX_VIEWPORT_DIMS","SUBPIXEL_BITS","RED_BITS","GREEN_BITS","BLUE_BITS","ALPHA_BITS","DEPTH_BITS","STENCIL_BITS","POLYGON_OFFSET_UNITS","POLYGON_OFFSET_FACTOR","SAMPLE_BUFFERS","SAMPLES","SAMPLE_COVERAGE_VALUE","SAMPLE_COVERAGE_INVERT","COMPRESSED_TEXTURE_FORMATS","GENERATE_MIPMAP_HINT","MAX_VERTEX_ATTRIBS","MAX_VERTEX_UNIFORM_VECTORS","MAX_VARYING_VECTORS","MAX_COMBINED_TEXTURE_IMAGE_UNITS","MAX_VERTEX_TEXTURE_IMAGE_UNITS","MAX_TEXTURE_IMAGE_UNITS","MAX_FRAGMENT_UNIFORM_VECTORS","SHADING_LANGUAGE_VERSION","VENDOR","RENDERER","VERSION","MAX_CUBE_MAP_TEXTURE_SIZE","ACTIVE_TEXTURE","IMPLEMENTATION_COLOR_READ_TYPE","IMPLEMENTATION_COLOR_READ_FORMAT","MAX_RENDERBUFFER_SIZE","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_COLORSPACE_CONVERSION_WEBGL","READ_BUFFER","UNPACK_ROW_LENGTH","UNPACK_SKIP_ROWS","UNPACK_SKIP_PIXELS","PACK_ROW_LENGTH","PACK_SKIP_ROWS","PACK_SKIP_PIXELS","UNPACK_SKIP_IMAGES","UNPACK_IMAGE_HEIGHT","MAX_3D_TEXTURE_SIZE","MAX_ELEMENTS_VERTICES","MAX_ELEMENTS_INDICES","MAX_TEXTURE_LOD_BIAS","MAX_DRAW_BUFFERS","DRAW_BUFFER0","DRAW_BUFFER1","DRAW_BUFFER2","DRAW_BUFFER3","DRAW_BUFFER4","DRAW_BUFFER5","DRAW_BUFFER6","DRAW_BUFFER7","MAX_FRAGMENT_UNIFORM_COMPONENTS","MAX_VERTEX_UNIFORM_COMPONENTS","FRAGMENT_SHADER_DERIVATIVE_HINT","MAX_ARRAY_TEXTURE_LAYERS","MIN_PROGRAM_TEXEL_OFFSET","MAX_PROGRAM_TEXEL_OFFSET","MAX_VARYING_COMPONENTS","MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS","RASTERIZER_DISCARD","MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS","MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS","MAX_COLOR_ATTACHMENTS","MAX_SAMPLES","MAX_VERTEX_UNIFORM_BLOCKS","MAX_FRAGMENT_UNIFORM_BLOCKS","MAX_COMBINED_UNIFORM_BLOCKS","MAX_UNIFORM_BUFFER_BINDINGS","MAX_UNIFORM_BLOCK_SIZE","MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS","MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS","UNIFORM_BUFFER_OFFSET_ALIGNMENT","MAX_VERTEX_OUTPUT_COMPONENTS","MAX_FRAGMENT_INPUT_COMPONENTS","MAX_SERVER_WAIT_TIMEOUT","TRANSFORM_FEEDBACK_PAUSED","TRANSFORM_FEEDBACK_ACTIVE","MAX_ELEMENT_INDEX","MAX_CLIENT_WAIT_TIMEOUT_WEBGL"]),An=[[-.9,-.7,0],[.8,-.7,0],[0,.5,0]];function On(t,n){return(t+1)*Math.floor(n/2)}function Tn(t){return Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tn(t)}function wn(t){return function(t){if(Array.isArray(t))return gn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return gn(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gn(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gn(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}function In(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,Rn(e.key),e)}}function Rn(t){var n=function(t,n){if("object"!=Tn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,n||"default");if("object"!=Tn(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==Tn(n)?n:String(n)}var Nn=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","HIGH_INT"],jn=["precision","rangeMin","rangeMax"],Mn=function(){function n(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n,r){(n=Rn(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}(this,"_errorHandler",Gt.createModuleErrorLogger("WebGL"))}var r,e,o;return r=n,e=[{key:"measure",value:function(){var n=this;return this._errorHandler.attempt((function(){var r,e=performance.now(),o=window;nn.likeBrave||(o=dn);var i=void 0,u=void 0;if("OffscreenCanvas"in o)i=new o.OffscreenCanvas(256,256),u=new o.OffscreenCanvas(256,256);else{var a=o.document;i=a.createElement("canvas"),u=a.createElement("canvas")}var f=n.getContext(i,"webgl"),c=n.getContext(u,"webgl2");if(!f||!c)return n._errorHandler.captureError("Unable to create webgl/webgl2 canvas"),null;var l=n.getWebGLData(f,"webgl")||{},s=l.dataURI,v=l.pixels,y=n.getWebGLData(c,"webgl2")||{},b=y.dataURI,m=y.pixels;return{extensions:wn(new Set([].concat(wn(f.getSupportedExtensions()||[]),wn(c.getSupportedExtensions()||[])))),extensionsParams:{MAX_TEXTURE_MAX_ANISOTROPY_EXT:n.getMaxAnisotropy(f),MAX_DRAW_BUFFERS_WEBGL:n.getMaxDrawBuffers(f),unmasked:n.getUnmasked(f),unmasked2:n.getUnmasked(c)},sample:{w:f.drawingBufferWidth,h:f.drawingBufferHeight,pixels:v,pixels2:m,dataURI:s,dataURI2:b},parameters:{params:n.getParams(f),params2:n.getParams(c),antialias:null===(r=f.getContextAttributes())||void 0===r?void 0:r.antialias,vertexShader:n.getShaderData(f,"VERTEX_SHADER"),fragmentShader:n.getShaderData(f,"FRAGMENT_SHADER")},passed:t(performance.now()-e,2)}}))}},{key:"getWebGLData",value:function(t,n){if(!t)return{dataURI:void 0,pixels:void 0};try{this.draw(t);var r="";if("OffscreenCanvas"===t.canvas.constructor.name){var e=document.createElement("canvas"),o=this.getContext(e,n);o&&this.draw(o),r=e.toDataURL()}else r=t.canvas.toDataURL();var i=Math.floor(t.drawingBufferWidth/15),u=Math.floor(t.drawingBufferHeight/6),a=new Uint8Array(i*u*4);try{t.readPixels(On(An[0][0],t.drawingBufferWidth),On(An[0][1],t.drawingBufferHeight),i,u,t.RGBA,t.UNSIGNED_BYTE,a)}catch(t){return this._errorHandler.captureError(t),{dataURI:r,pixels:void 0}}for(var f=[],c=0;c<a.length;c+=4){var l=a[c],s=a[c+1],v=a[c+2],y=a[c+3];0===l&&0===s&&0===v||f.push([c,l,s,v,y])}return{pixels:f,dataURI:r}}catch(t){return this._errorHandler.captureError(t)}}},{key:"draw",value:function(t){if(t&&!nn.isSafari15AndAbove){t.clear(t.COLOR_BUFFER_BIT);var n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n);var r=new Float32Array(An.flat());t.bufferData(t.ARRAY_BUFFER,r,t.STATIC_DRAW);var e=t.createProgram();if(e){var o=t.createShader(t.VERTEX_SHADER);if(o){t.shaderSource(o,"\n                attribute vec2 attrVertex;\n                varying vec2 varyinTexCoordinate;\n                uniform vec2 uniformOffset;\n                void main(){\n                    varyinTexCoordinate = attrVertex + uniformOffset;\n                    gl_Position = vec4(attrVertex, 0, 1);\n                }\n            "),t.compileShader(o),t.attachShader(e,o);var i=t.createShader(t.FRAGMENT_SHADER);if(i)return t.shaderSource(i,"\n                precision mediump float;\n                varying vec2 varyinTexCoordinate;\n                void main() {\n                    gl_FragColor = vec4(varyinTexCoordinate, 1, 1);\n                }\n            "),t.compileShader(i),t.attachShader(e,i),t.linkProgram(e),t.useProgram(e),e.vertexPosAttrib=t.getAttribLocation(e,"attrVertex"),e.offsetUniform=t.getUniformLocation(e,"uniformOffset"),t.enableVertexAttribArray(e.vertexPosArray),t.vertexAttribPointer(e.vertexPosAttrib,3,t.FLOAT,!1,0,0),t.uniform2f(e.offsetUniform,1,1),t.drawArrays(t.LINE_LOOP,0,3),t;this._errorHandler.captureError(new Error("createShader fragment shader error"))}else this._errorHandler.captureError(new Error("createShader vertex shader error"))}else this._errorHandler.captureError(new Error("createProgram error"))}else this._errorHandler.captureError("WebGL draw isSafari15AndAbove")}},{key:"getContext",value:function(t,n){try{return"webgl2"===n?t.getContext("webgl2")||t.getContext("experimental-webgl2"):t.getContext("webgl")||t.getContext("experimental-webgl")||t.getContext("moz-webgl")||t.getContext("webkit-3d")}catch(t){return this._errorHandler.captureError(t),null}}},{key:"getShaderData",value:function(t,n){var r=this;return i(Nn.reduce((function(e,o){var i=t.getShaderPrecisionFormat(t[n],t[o]),u=r.copyShaderPrecisionFormat(i);return u&&e.push([o,u]),e}),[]))}},{key:"copyShaderPrecisionFormat",value:function(t){return t?this._errorHandler.attempt((function(){return i(jn.map((function(n){return[n,t[n]]})))})):null}},{key:"getMaxAnisotropy",value:function(t){var n=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");return n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):null}},{key:"getMaxDrawBuffers",value:function(t){var n=t.getExtension("WEBGL_draw_buffers");return n?t.getParameter(n.MAX_DRAW_BUFFERS_WEBGL):null}},{key:"getUnmasked",value:function(t){var n=t.getExtension("WEBGL_debug_renderer_info");return n?{UNMASKED_VENDOR_WEBGL:t.getParameter(n.UNMASKED_VENDOR_WEBGL),UNMASKED_RENDERER_WEBGL:t.getParameter(n.UNMASKED_RENDERER_WEBGL)}:null}},{key:"getParams",value:function(t){return Object.getOwnPropertyNames(Object.getPrototypeOf(t)).filter((function(t){return hn.has(t)})).reduce((function(n,r){var e,o=t.getParameter(t[r]);return o&&(e=o,"buffer"in Object.getPrototypeOf(e))?n[r]=wn(o):n[r]=null!=o?o:null,n}),{})}}],e&&In(r.prototype,e),o&&In(r,o),Object.defineProperty(r,"prototype",{writable:!1}),n}();function Cn(t){return!!tt(t)&&(!(!("url"in t)||!z(t.url))&&("id"in t&&"number"==typeof t.id))}function Ln(t,n,r){var e;try{e=new Function(n)()}catch(t){return null}return r(e)?e:null}var Pn=Ln(0,`${"".replace("","return")} `,(function(t){return!!tt(t)&&(!(!("urls"in t)||!Array.isArray(t.urls))&&!!function(t,n){for(var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],e=t.length,o=0;o<t.length;o++)if(!n(t[o])){if(r){t.splice(o,1),o--;continue}return!1}return!(r&&e>0&&0===t.length)}(t.urls,Cn,!0))})),Fn=Ln(0,`${"".replace("","return")} `,z);function Un(t){return Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Un(t)}function Dn(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,Bn(e.key),e)}}function Bn(t){var n=function(t,n){if("object"!=Un(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,n||"default");if("object"!=Un(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==Un(n)?n:String(n)}var kn,Xn=function(){function n(t,r){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(t,n,r){(n=Bn(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}(this,"_errorHandler",Gt.createModuleErrorLogger("Pixels")),this._appLocalStorage=t,this.onMeasureDone=r}var r,e,o;return r=n,(e=[{key:"measure",value:function(n){var r=this;if(Pn){var e=this._appLocalStorage.getItem(y.N.j.M._),o=Date.now();if(!(e&&o<e+y.N.j.M.C)){this._appLocalStorage.setItem(y.N.j.M._,o);var i=Pn.urls,u=Date.now();0!==i.length&&Promise.allSettled(i.map((function(r){return function(n,r){var e=new URL(n.url);e.searchParams.append("fpid",r);var o=performance.now();return fetch(e,{mode:"no-cors",credentials:"include",method:"GET"}).then((function(n){return t(performance.now()-o,1)})).catch((function(t){return-1})).then((function(t){return{id:n.id,loadtime:t}}))}(r,n)}))).then((function(t){return t.flatMap((function(t){return t&&"rejected"!==t.status?[t.value]:[]}))})).catch(this._errorHandler.captureError).then((function(t){t&&r.onMeasureDone({timestamp:u,urls:t})}))}}}}])&&Dn(r.prototype,e),o&&Dn(r,o),Object.defineProperty(r,"prototype",{writable:!1}),n}();function Gn(){return"https:"===location.protocol}function Kn(t){return Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kn(t)}function xn(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var e,o,i,u,a=[],f=!0,c=!1;try{if(i=(r=r.call(t)).next,0===n){if(Object(r)!==r)return;f=!1}else for(;!(f=(e=i.call(r)).done)&&(a.push(e.value),a.length!==n);f=!0);}catch(t){c=!0,o=t}finally{try{if(!f&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(c)throw o}}return a}}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return Vn(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vn(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vn(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}function Wn(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,e)}return r}function Hn(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Wn(Object(r),!0).forEach((function(n){$n(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wn(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}function $n(t,n,r){return n=function(t){var n=function(t,n){if("object"!=Kn(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,n||"default");if("object"!=Kn(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==Kn(n)?n:String(n)}(n),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function Yn(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,n){if(!t)return;if("string"==typeof t)return Zn(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zn(t,n)}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var e=0,o=function(){};return{s:o,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,u=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return u=t.done,t},e:function(t){a=!0,i=t},f:function(){try{u||null==r.return||r.return()}finally{if(a)throw i}}}}function Zn(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}function Jn(){var t,n=Yn(["rec2020","p3","srgb"]);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(matchMedia(`(color-gamut: ${r})`).matches)return r}}catch(t){n.e(t)}finally{n.f()}return null}!function(t){var n=Gt.createModuleErrorLogger("System");t.data=Hn(Hn(Hn(Hn(Hn(Hn({script:{v:y.u,b_id:"152552442"},cv:Fn},function(){var t=!1;try{document.createEvent("TouchEvent"),t=!0}catch(t){}return{userAgent:n.attempt((function(){return navigator.userAgent})),webdriver:n.attempt((function(){return navigator.webdriver})),language:n.attempt((function(){return(navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage).toLowerCase()})),deviceMemory:n.attempt((function(){return navigator.deviceMemory||null})),hardwareConcurrency:n.attempt((function(){return navigator.hardwareConcurrency})),cpuClass:n.attempt((function(){return navigator.cpuClass||navigator.oscpu||null})),platform:n.attempt((function(){return navigator.platform})),dnt:n.attempt((function(){return navigator.doNotTrack||navigator.msDoNotTrack||window.doNotTrack||null})),touchSupport:n.attempt((function(){return[navigator.maxTouchPoints||navigator.msMaxTouchPoints||0,t,"ontouchstart"in window].join(";")}))}}()),n.attempt((function(){var t;return{hostname:location.hostname,topHostname:(null===(t=top)||void 0===t?void 0:t.location.hostname)||null,isInIframe:top!==self,isHttps:Gn(),isSecureContext}}),{fallback:{}})),nn),{},{intl:n.attempt((function(){return Hn(Hn({},i(o(Intl.DateTimeFormat().resolvedOptions()).filter((function(t){var n=xn(t,2);return n[0],n[1]})))),{},{timeZoneOffset:(new Date).getTimezoneOffset()})})),screen:n.attempt((function(){return{availLeft:screen.availLeft||null,availTop:screen.availTop||null,colorDepth:screen.colorDepth,pixelDepth:screen.pixelDepth,availableScreenResolution:[screen.availWidth,screen.availHeight].sort().reverse().join(";"),screenResolution:[screen.width,screen.height].sort().reverse().join(";"),devicePixelRatio,angle:screen.orientation.angle,type:screen.orientation.type,isExtended:screen.isExtended}}))},{hasPrivateToken:Gn()?document.hasPrivateToken&&document.hasPrivateToken(r,"private-state-token"):null,hasShadowRoot:_n,canAttachShadow:pn}),Hn(Hn({},kt.getStorageApisAvailability()),{},{hasTopicsAPI:"browsingTopics"in document&&"function"==typeof document.browsingTopics})),{},{otherProjects:n.attempt((function(){return{vk_id:localStorage.getItem(v.o)||null,ok_id:localStorage.getItem(v.i)||null}}))})}(kn||(kn={}));var Qn=function(t){return t[t.Less=-1]="Less",t[t.None=0]="None",t[t.More=1]="More",t[t.ForcedColors=10]="ForcedColors",t}({});function qn(t){return matchMedia(`(prefers-contrast: ${t})`).matches}function zn(t){return matchMedia(`(forced-colors: ${t})`).matches}function tr(t){return matchMedia(`(dynamic-range: ${t})`).matches}function nr(t){return matchMedia(`(prefers-reduced-motion: ${t})`).matches}function rr(t){return matchMedia(`(prefers-reduced-transparency: ${t})`).matches}var er;function or(t){return or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},or(t)}function ir(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,e)}return r}function ur(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ir(Object(r),!0).forEach((function(n){ar(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ir(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}function ar(t,n,r){return n=function(t){var n=function(t,n){if("object"!=or(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var e=r.call(t,n||"default");if("object"!=or(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==or(n)?n:String(n)}(n),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}h.init();var fr=kt.get(h.setSyncFid).then((function(t){var n=t||zt();return h.setSyncFid(n),kt.set(n),n})).catch(Kt.captureError);h.setAsyncFid(fr),fr.then((function(t){if(t)return s(t,kn.data),t})).catch(Kt.captureError),fr.then((function(t){if(t){Xt.registerSendCallback((function(n){s(t,ur(ur({},kn.data),{},{asyncMetricsStrategy:"LS periodic",asyncMetrics:n}))}))}})).catch(Kt.captureError),fr.then((function(t){t&&new Xn(Bt,(function(t){Xt.push("pixels",t)})).measure(t)})).catch(Kt.captureError),Kt.attempt((function(){new Qt((function(t,n){Xt.push("input",[{c:n,t}])})).init()})),Kt.attempt((function(){var t=(new Mn).measure();Xt.push("testWebGL",t)})),null===(er=window.rb_sync)||void 0===er||er.asyncFid.then((function(t){if(!t)throw new Error;return t})).catch((function(t){})),fr.then((function(t){if(t){var n={"color-gamut":Jn(),"color-scheme":matchMedia("(prefers-color-scheme: light)").matches?"light":"dark","prefers-contrast":qn("no-preference")?Qn.None:qn("high")||qn("more")?Qn.More:qn("low")||qn("less")?Qn.Less:qn("forced")?Qn.ForcedColors:null,"forced-colors":!!zn("active")||!zn("none")&&null,"dynamic-range":!!tr("high")||!tr("standard")&&null,"inverted-colors":matchMedia("(inverted-colors: inverted)").matches?"inverted":"none","reduced-motion":!!nr("reduce")||!nr("no-preference")&&null,"reduced-transparency":!!rr("reduce")||!rr("no-preference")&&null,monochrome:matchMedia("(monochrome)").matches?"monochrome":matchMedia("(monochrome: 0)").matches?"non-monochrome":null};Xt.push("cssmedia",n)}})).catch(Kt.captureError),fr.then((function(t){})).catch((function(t){}))})(); 